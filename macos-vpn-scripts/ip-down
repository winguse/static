#!/bin/bash


if [ -f /etc/ppp/ip-script-disabled ]; then
  exit
fi

export PATH="/bin:/sbin:/usr/sbin:/usr/bin"
[ -s /tmp/pptp_oldgw ] || exit 1

OLDGW=`cat /tmp/pptp_oldgw`
route delete 10.0.0.0/8 $OLDGW
route delete 172.16.0.0/12 $OLDGW
route delete 192.168.0.0/16 $OLDGW
route delete 0.0.0.0/0 $4
route delete 0.0.0.0/7 $OLDGW
route delete 14.0.0.0/8 $OLDGW
route delete 14.102.160.0/20 $4
route delete 27.0.0.0/8 $OLDGW
route delete 27.100.0.0/15 $4
route delete 36.0.0.0/8 $OLDGW
route delete 39.0.0.0/8 $OLDGW
route delete 40.72.0.0/15 $OLDGW
route delete 40.125.128.0/17 $OLDGW
route delete 40.126.64.0/18 $OLDGW
route delete 42.0.0.0/7 $OLDGW
route delete 43.226.0.0/19 $4
route delete 43.231.0.0/19 $4
route delete 43.244.0.0/15 $4
route delete 43.251.128.0/18 $4
route delete 45.40.192.0/18 $OLDGW
route delete 45.64.0.0/15 $OLDGW
route delete 45.96.0.0/11 $OLDGW
route delete 45.119.192.0/19 $4
route delete 45.224.0.0/11 $OLDGW
route delete 45.248.32.0/19 $4
route delete 45.249.88.0/22 $4
route delete 45.250.72.0/22 $4
route delete 45.251.32.0/20 $4
route delete 45.252.184.0/21 $4
route delete 45.253.128.0/22 $4
route delete 45.254.244.0/22 $4
route delete 45.255.128.0/22 $4
route delete 47.92.0.0/14 $OLDGW
route delete 47.96.0.0/11 $OLDGW
route delete 49.0.0.0/8 $OLDGW
route delete 52.80.0.0/14 $OLDGW
route delete 52.130.0.0/15 $OLDGW
route delete 54.222.0.0/15 $OLDGW
route delete 58.0.0.0/7 $OLDGW
route delete 59.151.128.0/17 $4
route delete 59.153.8.0/21 $4
route delete 60.0.0.0/7 $OLDGW
route delete 60.254.0.0/16 $4
route delete 62.128.0.0/9 $OLDGW
route delete 68.79.0.0/18 $OLDGW
route delete 69.230.192.0/18 $OLDGW
route delete 69.231.128.0/18 $OLDGW
route delete 69.234.192.0/18 $OLDGW
route delete 69.235.128.0/18 $OLDGW
route delete 71.131.192.0/18 $OLDGW
route delete 71.132.0.0/18 $OLDGW
route delete 71.136.64.0/18 $OLDGW
route delete 71.137.0.0/18 $OLDGW
route delete 81.64.0.0/12 $OLDGW
route delete 82.128.0.0/9 $OLDGW
route delete 91.234.0.0/16 $OLDGW
route delete 94.184.0.0/13 $OLDGW
route delete 101.0.0.0/8 $OLDGW
route delete 101.53.128.0/17 $4
route delete 102.0.0.0/7 $OLDGW
route delete 103.6.80.0/20 $4
route delete 103.11.64.0/18 $4
route delete 103.12.192.0/19 $4
route delete 103.15.112.0/20 $4
route delete 103.19.80.0/20 $4
route delete 103.21.244.0/22 $4
route delete 103.22.192.0/19 $4
route delete 103.25.224.0/19 $4
route delete 103.28.64.0/18 $4
route delete 103.31.4.0/22 $4
route delete 103.35.120.0/21 $4
route delete 103.47.56.0/21 $4
route delete 103.60.0.0/19 $4
route delete 103.66.0.0/19 $4
route delete 103.67.32.0/19 $4
route delete 103.67.200.0/21 $4
route delete 103.68.112.0/20 $4
route delete 103.70.32.0/19 $4
route delete 103.71.16.0/20 $4
route delete 103.72.64.0/19 $4
route delete 103.73.64.0/20 $4
route delete 103.78.120.0/22 $4
route delete 103.83.192.0/18 $4
route delete 103.84.144.0/20 $4
route delete 103.85.40.0/22 $4
route delete 103.87.104.0/21 $4
route delete 103.89.64.0/19 $4
route delete 103.91.48.0/20 $4
route delete 103.91.104.0/22 $4
route delete 103.92.208.0/20 $4
route delete 103.97.240.0/20 $4
route delete 103.98.172.0/22 $4
route delete 103.101.0.0/22 $4
route delete 103.102.160.0/21 $4
route delete 103.103.48.0/20 $4
route delete 103.103.240.0/21 $4
route delete 103.104.128.0/20 $4
route delete 103.111.32.0/22 $4
route delete 103.111.176.0/20 $4
route delete 103.115.96.0/20 $4
route delete 103.116.16.0/22 $4
route delete 103.117.96.0/19 $4
route delete 103.121.192.0/19 $4
route delete 103.123.128.0/19 $4
route delete 103.124.96.0/19 $4
route delete 103.124.128.0/18 $4
route delete 103.126.136.0/21 $4
route delete 103.129.64.0/18 $4
route delete 103.131.64.0/18 $4
route delete 103.134.128.0/18 $4
route delete 103.135.0.0/18 $4
route delete 103.140.16.0/20 $4
route delete 103.140.160.0/19 $4
route delete 103.141.32.0/22 $4
route delete 103.141.160.0/20 $4
route delete 103.141.192.0/19 $4
route delete 103.142.192.0/20 $4
route delete 103.142.222.0/23 $4
route delete 103.143.30.0/24 $4
route delete 103.143.32.0/19 $4
route delete 103.143.76.0/22 $4
route delete 103.147.64.0/19 $4
route delete 103.148.192.0/18 $4
route delete 103.196.0.0/19 $4
route delete 103.196.176.0/20 $4
route delete 103.206.64.0/19 $4
route delete 103.211.176.0/20 $4
route delete 103.211.252.0/22 $4
route delete 103.216.192.0/19 $4
route delete 103.217.224.0/19 $4
route delete 103.219.72.0/21 $4
route delete 103.219.192.0/18 $4
route delete 103.228.96.0/19 $4
route delete 103.230.64.0/19 $4
route delete 103.231.24.0/21 $4
route delete 103.232.192.0/20 $4
route delete 103.237.32.0/19 $4
route delete 103.240.192.0/19 $4
route delete 103.242.192.0/21 $4
route delete 103.246.192.0/18 $4
route delete 103.247.0.0/17 $4
route delete 103.254.160.0/20 $4
route delete 103.254.198.0/23 $4
route delete 106.0.0.0/8 $OLDGW
route delete 109.128.0.0/9 $OLDGW
route delete 110.0.0.0/7 $OLDGW
route delete 112.0.0.0/4 $OLDGW
route delete 113.28.0.0/15 $4
route delete 116.206.64.0/20 $4
route delete 122.252.0.0/15 $4
route delete 123.253.64.0/19 $4
route delete 123.253.104.0/22 $4
route delete 123.253.128.0/18 $4
route delete 128.108.0.0/16 $OLDGW
route delete 129.28.0.0/16 $OLDGW
route delete 129.204.0.0/15 $OLDGW
route delete 129.211.0.0/16 $OLDGW
route delete 132.232.0.0/16 $OLDGW
route delete 134.175.0.0/16 $OLDGW
route delete 137.58.0.0/15 $OLDGW
route delete 139.0.0.0/12 $OLDGW
route delete 139.128.0.0/15 $OLDGW
route delete 139.148.0.0/15 $OLDGW
route delete 139.152.0.0/13 $OLDGW
route delete 139.170.0.0/16 $OLDGW
route delete 139.176.0.0/16 $OLDGW
route delete 139.183.0.0/16 $OLDGW
route delete 139.186.0.0/16 $OLDGW
route delete 139.188.0.0/14 $OLDGW
route delete 139.192.0.0/11 $OLDGW
route delete 139.224.0.0/16 $OLDGW
route delete 139.226.0.0/15 $OLDGW
route delete 140.75.0.0/16 $OLDGW
route delete 140.143.0.0/16 $OLDGW
route delete 140.179.0.0/16 $OLDGW
route delete 140.205.0.0/16 $OLDGW
route delete 140.206.0.0/15 $OLDGW
route delete 140.210.0.0/16 $OLDGW
route delete 140.224.0.0/16 $OLDGW
route delete 140.237.0.0/16 $OLDGW
route delete 140.240.0.0/16 $OLDGW
route delete 140.243.0.0/16 $OLDGW
route delete 140.246.0.0/16 $OLDGW
route delete 140.249.0.0/16 $OLDGW
route delete 140.250.0.0/16 $OLDGW
route delete 140.255.0.0/16 $OLDGW
route delete 144.0.0.0/15 $OLDGW
route delete 144.6.0.0/15 $OLDGW
route delete 144.12.0.0/16 $OLDGW
route delete 144.48.0.0/16 $OLDGW
route delete 144.52.0.0/14 $OLDGW
route delete 144.122.0.0/15 $OLDGW
route delete 144.255.0.0/16 $OLDGW
route delete 146.56.0.0/16 $OLDGW
route delete 146.196.0.0/16 $OLDGW
route delete 146.196.96.0/20 $4
route delete 148.68.0.0/14 $OLDGW
route delete 150.0.0.0/10 $OLDGW
route delete 150.115.0.0/16 $OLDGW
route delete 150.121.0.0/16 $OLDGW
route delete 150.122.0.0/16 $OLDGW
route delete 150.128.0.0/15 $OLDGW
route delete 150.138.0.0/15 $OLDGW
route delete 150.158.0.0/16 $OLDGW
route delete 150.223.0.0/16 $OLDGW
route delete 150.242.0.0/16 $OLDGW
route delete 150.254.0.0/15 $OLDGW
route delete 152.104.0.0/13 $OLDGW
route delete 152.136.0.0/16 $OLDGW
route delete 153.0.0.0/15 $OLDGW
route delete 153.3.0.0/16 $OLDGW
route delete 153.34.0.0/15 $OLDGW
route delete 153.36.0.0/15 $OLDGW
route delete 153.96.0.0/14 $OLDGW
route delete 153.100.0.0/15 $OLDGW
route delete 153.118.0.0/15 $OLDGW
route delete 154.8.0.0/16 $OLDGW
route delete 157.0.0.0/12 $OLDGW
route delete 157.16.0.0/14 $OLDGW
route delete 157.61.0.0/16 $OLDGW
route delete 157.112.0.0/13 $OLDGW
route delete 157.122.0.0/16 $OLDGW
route delete 157.148.0.0/16 $OLDGW
route delete 157.156.0.0/14 $OLDGW
route delete 157.255.0.0/16 $OLDGW
route delete 159.75.0.0/16 $OLDGW
route delete 159.226.0.0/16 $OLDGW
route delete 160.19.192.0/18 $OLDGW
route delete 160.20.0.0/17 $OLDGW
route delete 160.202.32.0/19 $OLDGW
route delete 160.202.128.0/17 $OLDGW
route delete 160.238.64.0/22 $OLDGW
route delete 161.189.0.0/16 $OLDGW
route delete 161.207.0.0/16 $OLDGW
route delete 162.14.0.0/16 $OLDGW
route delete 162.105.0.0/16 $OLDGW
route delete 163.0.0.0/15 $OLDGW
route delete 163.47.0.0/17 $OLDGW
route delete 163.48.0.0/12 $OLDGW
route delete 163.125.0.0/16 $OLDGW
route delete 163.136.0.0/13 $OLDGW
route delete 163.177.0.0/16 $OLDGW
route delete 163.178.0.0/15 $OLDGW
route delete 163.204.0.0/16 $OLDGW
route delete 164.52.0.0/17 $OLDGW
route delete 166.110.0.0/15 $OLDGW
route delete 167.139.0.0/16 $OLDGW
route delete 167.189.0.0/16 $OLDGW
route delete 167.220.240.0/21 $OLDGW
route delete 168.160.0.0/16 $OLDGW
route delete 170.179.0.0/16 $OLDGW
route delete 171.0.0.0/9 $OLDGW
route delete 171.64.0.0/12 $4
route delete 171.208.0.0/12 $OLDGW
route delete 172.81.192.0/18 $OLDGW
route delete 175.0.0.0/8 $OLDGW
route delete 180.0.0.0/6 $OLDGW
route delete 182.50.64.0/19 $4
route delete 182.54.128.0/18 $4
route delete 185.203.0.0/16 $OLDGW
route delete 188.128.0.0/10 $OLDGW
route delete 192.51.128.0/18 $OLDGW
route delete 192.55.46.0/24 $OLDGW
route delete 192.55.68.0/22 $OLDGW
route delete 192.102.204.0/23 $OLDGW
route delete 192.124.154.0/23 $OLDGW
route delete 192.140.128.0/17 $OLDGW
route delete 192.144.0.0/16 $OLDGW
route delete 192.197.112.0/21 $OLDGW
route delete 193.112.0.0/13 $OLDGW
route delete 198.175.100.0/22 $OLDGW
route delete 199.212.57.0/24 $OLDGW
route delete 202.0.0.0/7 $OLDGW
route delete 202.5.0.0/17 $4
route delete 202.43.80.0/20 $4
route delete 202.65.16.0/20 $4
route delete 202.72.96.0/20 $4
route delete 202.74.54.0/23 $4
route delete 202.129.224.0/19 $4
route delete 202.136.64.0/18 $4
route delete 202.165.0.0/17 $4
route delete 202.173.16.0/20 $4
route delete 202.173.116.0/22 $4
route delete 202.182.64.0/18 $4
route delete 203.24.246.0/23 $4
route delete 203.28.240.0/20 $4
route delete 203.33.152.0/22 $4
route delete 203.55.64.0/20 $4
route delete 203.62.176.0/20 $4
route delete 203.98.0.0/16 $4
route delete 203.144.0.0/18 $4
route delete 203.187.128.0/19 $4
route delete 204.52.191.0/24 $OLDGW
route delete 210.0.0.0/7 $OLDGW
route delete 212.64.0.0/14 $OLDGW
route delete 212.128.0.0/9 $OLDGW
route delete 218.0.0.0/7 $OLDGW
route delete 220.0.0.0/6 $OLDGW
route add default $OLDGW
rm -f /tmp/pptp_oldgw

ANOTHER_DNS_PID=`cat /tmp/another-dns.pid`
sudo kill -SIGKILL $ANOTHER_DNS_PID
rm /tmp/another-dns.pid


